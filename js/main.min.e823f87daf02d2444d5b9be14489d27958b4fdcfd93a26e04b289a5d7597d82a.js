const throttle=(callback,limit)=>{let timeoutHandler=null;return()=>{if(timeoutHandler==null){timeoutHandler=setTimeout(()=>{callback();timeoutHandler=null;},limit);}};};const listen=(ele,e,callback)=>{if(document.querySelector(ele)!==null){document.querySelector(ele).addEventListener(e,callback);}};const queryAll=(el,query)=>{return[].slice.call(el.querySelectorAll(query));};let header=document.getElementById('site-header');let lastScrollPosition=window.pageYOffset;const autoHideHeader=()=>{let currentScrollPosition=window.pageYOffset;if(currentScrollPosition>lastScrollPosition){header.classList.remove('slideInUp');header.classList.add('slideOutDown');}else{header.classList.remove('slideOutDown');header.classList.add('slideInUp');}
lastScrollPosition=currentScrollPosition;}
let mobileMenuVisible=false;const toggleMobileMenu=()=>{let mobileMenu=document.getElementById('mobile-menu');if(mobileMenuVisible==false){mobileMenu.style.animationName='bounceInRight';mobileMenu.style.webkitAnimationName='bounceInRight';mobileMenu.style.display='block';mobileMenuVisible=true;}else{mobileMenu.style.animationName='bounceOutRight';mobileMenu.style.webkitAnimationName='bounceOutRight'
mobileMenuVisible=false;}}
const showImg=()=>{document.querySelector('.bg-img').classList.add('show-bg-img');}
const hideImg=()=>{document.querySelector('.bg-img').classList.remove('show-bg-img');}
const toggleToc=()=>{document.getElementById('toc').classList.toggle('show-toc');}
if(header!==null){listen('#menu-btn',"click",toggleMobileMenu);listen('#toc-btn',"click",toggleToc);listen('#img-btn',"click",showImg);listen('.bg-img',"click",hideImg);document.querySelectorAll('.post-year').forEach((ele)=>{ele.addEventListener('click',()=>{window.location.hash='#'+ele.id;});});window.addEventListener('scroll',throttle(()=>{autoHideHeader();if(mobileMenuVisible==true){toggleMobileMenu();}},250));}
const setActiveTab=(tab,title)=>{queryAll(tab,'.nav-tabs li').forEach(li=>{if(li.innerText.trim()==title.trim()){li.classList.add('active');}else{li.classList.remove('active');}});queryAll(tab,'.tab-content div').forEach(div=>{if(div.getAttribute('title')==title){div.classList.add('active');}else{div.classList.remove('active');}});};const setupTab=(tab)=>{const panes=queryAll(tab,'.tab-pane');const titles=panes.map(pane=>'<li><a href="#">'+pane.getAttribute('title')+'</a></li>');const nav=tab.querySelector('.nav-tabs');nav.insertAdjacentHTML('afterbegin',titles.join(''));queryAll(tab,'.nav-tabs li a').forEach(a=>a.addEventListener('click',e=>{e.preventDefault();setActiveTab(tab,a.innerText);}));setActiveTab(tab,panes[0].getAttribute('title'));};queryAll(document,'.tabs').forEach(tab=>setupTab(tab));